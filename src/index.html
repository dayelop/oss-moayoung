<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="assets/chat.png" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="description" content="@@description" />
    <meta name="keywords" content="@@keywords" />
    <title>ëª¨ì•„ì˜</title>
    <!--title-->
    <meta property="og:title" content="@@title" />
    <meta property="og:description" content="@@description" />
    <meta property="og:image" content="@@image" />
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.1/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
    <script src="assets/bundle.js?v=@@version"></script>
    <script>
      var prevRadio = null;

      function check(input) {
        var lips_area = document.getElementById('lips-area');

        if (input.checked == true) {
          lips_area.style.display = 'inline';
        } else {
          lips_area.style.display = 'none';
        }
      }

      function libSelect() {
        var checked_id = $(':input:radio[name=lipDetecting]:checked').val(); //1
        var canvas_ = document.getElementById(`${checked_id}`); //1

        canvas_.style.display = 'inline'; //1

        if (prevRadio == null) {
          prevRadio = canvas_;
        } else if (prevRadio != canvas_) {
          prevRadio.style.display = 'none';
          prevRadio = canvas_;
        }
      }
    </script>
    <script>
      function saveAsFile(filename) {
        var hiddenElement = document.createElement('a');
        var str = $('.subtitles').text();
        hiddenElement.href = 'data:attachment/text,' + encodeURI(str);
        hiddenElement.target = '_blank';
        hiddenElement.download = filename;
        hiddenElement.click();
      }
    </script>
  </head>
  <body id="hotkey">
    <div class="container maincontainer">
      <div class="mainrow">
        <div class="" id="main" style="display: none">
          <div id="video-area">
            <div class="video-item" id="yourVideoArea">
              <div class="video-wrap">
                <!-- Video.ts -->
                <div class="video-inner-wrap">
                  <!-- Video.ts -->
                  <video id="yourVideo" autoplay muted playsinline></video>
                  <!-- ë¹„ë””ì˜¤ -->
                </div>
              </div>
            </div>
            <div
              id="welcome"
              class="welcome-messages"
              v-bind:class="{'open': open}"
            >
              <!-- elements > welcome.ts-->
              <!-- #welcome -->
              <div class="welcome-inner">
                <span class="close fas fa-times" v-on:click="close"></span>
                <!-- welcome.tsì—ì„œ close í•¨ìˆ˜ -->
                <div class="invite row" v-bind:class="{'show': showInvite}">
                  <!-- elements > welcome.ts-->
                  <!-- <div class="col-xs-12 invite-header">{{inviteotherwithlink}}:</div>-->
                  <!-- elements > welcome.ts / translator.ts -> "Invite other with this link" ë”± ë°© ë§Œë“¤ë©´ ë‚˜ì˜¤ëŠ” ì•Œë¦¼ì°½ -->
                  <div class="col-xs-12 invite-header">
                    ì•„ë˜ì˜ ë§í¬ë¡œ ì´ˆëŒ€í•´ë³´ì„¸ìš” ğŸ˜
                  </div>
                  <div class="col-xs-12 invite-content">
                    <input
                      v-model="link"
                      readonly
                      type="text"
                      id="invite-link-welcome"
                    /><button
                      v-bind:class="{'fa-copy': !copied, 'fa-check': copied}"
                      v-on:click="copy"
                      class="fas"
                    ></button>
                  </div>
                </div>
                <div class="setname row" v-bind:class="{'show': showSetName}">
                  <div class="col-xs-12 setname-header">{{yournamelabel}}:</div>
                  <!-- elements > welcome.ts / ì²˜ìŒ ë“¤ì–´ì™”ì„ ë•Œ ì´ë¦„ ì„¤ì •-->
                  <div class="col-xs-12 setname-content">
                    <input
                      v-model="name"
                      @blur="changeUserinfo"
                      autofocus
                      placeholder="..."
                      @keydown.enter.exact.prevent
                      @keyup.enter.exact="close"
                    />
                  </div>
                </div>
                <button
                  v-bind:class="{'show': showSetName}"
                  v-on:click="close"
                  type="submit"
                  data-lang="starting"
                  class="button starting"
                >
                  Starting
                </button>
                <div class="row"></div>
              </div>
            </div>
            <div id="lips-area"></div>
          </div>
          <div class="row center-xs" id="footer">
            <div class="col-xs-12" id="controls">
              <!-- ë§ˆì´í¬, ì¹´ë©”ë¼, í™”ë©´ ê³µìœ , ì±„íŒ…ì°½, í†µí™” ì‹œì‘ ë²„íŠ¼ -->
              <!-- controls.ts #controls-->
              <!-- css : ì†ì„± -->
              <span
                v-on:click="toogleMicrophone"
                v-bind:class="{'fa-microphone': microphoneOn, 'fa-microphone-slash': !microphoneOn}"
                class="microphone fas fa-microphone"
              ></span>
              <span
                v-on:click="toogleCamera"
                v-bind:class="{'fa-video': cameraOn, 'fa-video-slash': !cameraOn}"
                class="camera fas fa-video"
              ></span>
              <span
                v-on:click="toogleScreen"
                v-bind:class="{'screenon': screenOn, 'disabled': screenSharingNotAllowed}"
                class="screen fas fa-desktop"
              ></span>
              <span
                v-on:click="toogleOption"
                v-bind:class="{'optionon': optionOn, 'newMessage': hasNewMessage}"
                class="option fas fa-bars"
              ></span>
              <span
                v-on:click="toogleOption"
                v-bind:class="{'optiononclose': optionOn}"
                class="optionclose fas fa-times"
              ></span>
              <span
                v-on:click="hangOut"
                v-bind:class="{'green': hangouted}"
                class="hangup fas fa-phone"
              ></span>
            </div>
          </div>
        </div>
        <div id="sidebar">
          <!-- optionì°½ ëˆŒë €ì„ ë•Œ ì˜†ì— ëœ¨ëŠ” ì°½ -->
          <div class="tabs">
            <div class="tabs-header row">
              <div tab="partner" class="col-xs-3" data-lang="ì°¸ì—¬ì">
                Participant
              </div>
              <div tab="chat" class="col-xs-3" data-lang="ì±„íŒ…">Chat</div>
              <div
                tab="subtitle"
                class="col-xs-3"
                data-lang="ìë§‰"
                id="testTitle"
              >
                Subtitle
              </div>
              <div tab="settings" class="col-xs-3" data-lang="ì„¤ì •">
                Setting
              </div>
            </div>
            <div class="tabs-content">
              <!-- tab í•˜ë‚˜ í•˜ë‚˜ -->
              <div id="tab-partner">
                <!-- participant ì°½  -->
                <div id="invite" class="row">
                  <!-- <div class="col-xs-12 invite-header">{{inviteotherwithlink}}:</div> -->
                  <div class="col-xs-12 invite-header">
                    ì•„ë˜ì˜ ë§í¬ë¡œ ì´ˆëŒ€í•´ë³´ì„¸ìš” ğŸ˜
                  </div>
                  <div class="col-xs-12 invite-content">
                    <input
                      v-model="link"
                      readonly
                      type="text"
                      id="invite-link"
                    /><button
                      v-bind:class="{'fa-copy': !copied, 'fa-check': copied}"
                      v-on:click="copy"
                      class="fas"
                    ></button>
                  </div>
                </div>
                <div id="partnerlist">
                  <ul></ul>
                </div>
              </div>
              <div id="tab-chat">
                <div id="textchat">
                  <!-- ì±„íŒ…ì°½ TextChat.ts #textchat-->
                  <div class="msger">
                    <div class="msger-chat"></div>
                    <div
                      class="msger-extrainfo"
                      v-bind:class="{'hidden': !extrainfoVisible}"
                    >
                      <span v-html="extrainfo"></span>
                      <span
                        class="close fas fa-times"
                        v-on:click="closeExtra"
                      ></span>
                    </div>
                    <div
                      class="msger-emoji-area"
                      v-bind:class="{'hidden': !emojiVisible}"
                    >
                      <span
                        class="close fas fa-times"
                        v-on:click="toogleEmoji"
                      ></span>
                    </div>
                    <form
                      class="msger-inputarea"
                      v-on:submit.prevent="sendMessage"
                    >
                      <textarea
                        v-model="message"
                        type="text"
                        class="msger-input"
                        placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”."
                        style="font-family: 'S-CoreDream-5Medium'"
                        @paste="addfilebypast"
                        @keydown.enter.exact.prevent
                        @keyup.enter.exact="sendMessage"
                      ></textarea>
                      <label
                        class="msger-emoji fas fa-grin-alt"
                        @click="toogleEmoji"
                      ></label>
                      <label class="msger-imgupload fas fa-file-image">
                        <input type="file" accept="image/*" @change="addfile" />
                      </label>
                      <button
                        type="submit"
                        class="msger-send-btn fas fa-paper-plane"
                      ></button>
                    </form>
                  </div>
                </div>
              </div>
              <div id="tab-subtitle">
                <button
                  class="subtitle-button"
                  type="button"
                  onclick="saveAsFile('ìë§‰.txt');"
                >
                  ìë§‰ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                </button>
                <p class="subtitles"></p>
              </div>
              <div id="tab-settings">
                <!-- ì„¤ì •ì°½ : ì´ë¦„, ë§ˆì´í¬ .. ë“±-->
                <div id="userinfo">
                  <!-- ì´ë¦„ ì„¤ì • -->
                  <div class="row">
                    <!-- <label class="col-xs-6" >{{namelabel}}:</label> -->
                    <label class="col-xs-6">ì´ë¦„</label>
                    <input
                      class="col-xs-6"
                      v-model="name"
                      @blur="changeUserinfo"
                      placeholder="..."
                    />
                  </div>
                </div>
                <div id="devices">
                  <!-- ë§ˆì´í¬ ì„¤ì • -->
                  <div class="row">
                    <!-- <label class="col-xs-6" >{{microphonelabel}}:</label> -->
                    <label class="col-xs-6">ë§ˆì´í¬</label>
                    <select
                      class="col-xs-6"
                      v-model="audio"
                      @change="onChange()"
                    >
                      <option
                        v-for="(option, index) in audiooptions"
                        :key="index"
                        v-bind:value="index"
                      >
                        {{ option }}
                      </option>
                    </select>
                  </div>
                  <div class="row">
                    <!-- ë¹„ë””ì˜¤ ì„¤ì • -->
                    <!-- <label class="col-xs-6" >{{videolabel}}:</label> -->
                    <label class="col-xs-6">ì¹´ë©”ë¼</label>
                    <select
                      class="col-xs-6"
                      v-model="video"
                      @change="onChange()"
                    >
                      <option
                        v-for="(option, index) in videooptions"
                        :key="index"
                        v-bind:value="index"
                      >
                        {{ option }}
                      </option>
                    </select>
                  </div>
                  <div
                    class="row sound"
                    v-bind:class="{'allowed': soundAllowed}"
                  >
                    <!-- ìŠ¤í”¼ì»¤ ì„¤ì • -->
                    <!-- <label class="col-xs-6" >{{speakerlabel}}:</label> -->
                    <label class="col-xs-6">ìŠ¤í”¼ì»¤</label>
                    <select
                      class="col-xs-6"
                      v-model="sound"
                      @change="onChange()"
                    >
                      <option
                        v-for="(option, index) in soundoptions"
                        :key="index"
                        v-bind:value="index"
                      >
                        {{ option }}
                      </option>
                    </select>
                  </div>
                </div>
                <div id="configuration" v-if="soundEffectsEnabled">
                  <!-- ëª¨ë¥´ê² ìŒ -->
                  <div class="row" v-if="soundEffectsEnabled">
                    <label class="col-xs-6">{{soundeffectsLabel}}:</label>
                    <input
                      type="checkbox"
                      v-model="soundEffectsOn"
                      @change="toogleSoundEffects"
                    />
                  </div>
                </div>
                <div id="settingSwitch">
                  <!-- í¸ì˜ ê¸°ëŠ¥ ì œì–´ -->
                  <div class="switchbox">
                    <p>ì–¼êµ´ ë²—ì–´ë‚¨ ê°ì§€</p>
                    <label class="switch">
                      <!-- ì˜í™” ***-->
                      <input type="checkbox" id="faceDetect" />
                      <span class="slider round"></span>
                    </label>
                  </div>
                  <div class="switchbox">
                    <p>ìë§‰ ì¶”ì¶œ</p>
                    <label class="switch">
                      <!-- ì˜í™” ***-->
                      <input type="checkbox" id="subtitleExtract" />
                      <span class="slider round"></span>
                    </label>
                  </div>
                  <div class="switchbox">
                    <p>ë°œí™”ì ì… í™•ëŒ€</p>
                    <label class="switch">
                      <!-- ì˜í™” ***-->
                      <input
                        type="checkbox"
                        id="libMagnify"
                        onclick="check(this)"
                      />
                      <span class="slider round"></span>
                    </label>
                  </div>
                  <div class="switchbox">
                    <p>ì°¸ì—¬ì ìŒì„± ì•Œë¦¼</p>
                    <label class="switch">
                      <!-- ì˜í™” ***-->
                      <input type="checkbox" id="participantAlarm" />
                      <span class="slider round"></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="clickbackground"></div>
      </div>
    </div>
    <div
      id="lightbox"
      v-on:dblclick="closeLightbox"
      v-bind:class="{'open': !closed}"
    >
      <!-- ëª¨ë¥´ê² ìŒ ì•„ë§ˆë„ ì–¼êµ´ ì¡°ê·¸ë§£ê²Œ ë‚˜ì˜¤ëŠ” ì°½?-->
      <img
        id="lightboxImageElement"
        :src="src"
        v-bind:class="{'active': mode == 'image'}"
      />
      <video
        id="lightboxVideoElement"
        controls
        autoplay
        :src="src"
        v-bind:class="{'active': mode == 'video'}"
      ></video>
      <span class="close fas fa-times" v-on:click="closeLightbox"></span>
    </div>
    <div id="create-room" v-bind:class="{'show': showDialog}">
      <!-- ë°© ë§Œë“œëŠ” ì°½ -->
      <div class="create-room-inner">
        <form v-on:submit.prevent="createRoom">
          <div class="title" style="text-align: center">ëª¨ì•„ì˜</div>
          <!-- Video Chat -->
          <!-- {{title}} -->
          <!-- <div class="message" data-lang="í†µí™”ë°© ì´ë¦„ì„ ì…ë ¥í•˜ê³ , í†µí™”ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš” â•">í†µí™”ë°© ì´ë¦„ì„ ì…ë ¥í•˜ê³ , í†µí™”ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš” â•</div> -->
          <div class="message" style="text-align: center">
            í†µí™”ë°© ì´ë¦„ì„ ì…ë ¥í•˜ê³ ,<br />
            í†µí™”ë°©ì„ ê°œì„¤í•´ë³´ì„¸ìš” â•
          </div>
          <div class="room-input">
            <!-- ë°© ì´ë¦„ ì“°ëŠ” ì¹¸ -->
            <input
              autofocus
              type="text"
              v-model="roomName"
              @keydown.enter.exact.prevent
              @keyup.enter.exact="createRoom"
            />
            <button
              type="button"
              v-on:click="setRandomName"
              class="fas fa-random"
            ></button>
          </div>
          <div class="button-area">
            <!-- ë°© ë§Œë“¤ê¸° ë²„íŠ¼ -->
            <button type="submit" data-lang="í†µí™” ì‹œì‘" class="button">
              Create
            </button>
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
